<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Nomad: addons/BugReporter Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">The Nomad
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_254b2030b70a3174fc840b0f443714e1.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">BugReporter Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<h1 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
BugReporter</h1>
<p>The <a class="el" href="class_bug_reporter.html">BugReporter</a> allows players to send messages using a discord webhook. <br  />
 This allows easy and low maintanance feedback from directly inside your game. <br  />
 Webhooks can be easily abused for anonymous automated spam. That makes this a bad solution for games with many players.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
Config</h1>
<p>This is an example config with all needed values. Only the url is needed. game_name will default to "unnamed_game" if not specified.</p>
<div class="fragment"><div class="line">[webhook]</div>
<div class="line"> </div>
<div class="line">url=&quot;https://discord.com/api/webhooks/&lt;webhook.id&gt;/&lt;webhook.token&gt;&quot;</div>
<div class="line">game_name=&quot;BugReporter&quot;</div>
<div class="line">tts=false</div>
<div class="line">color=15258703</div>
<div class="line">anonymous_players=false</div>
<div class="line">send_log=false</div>
<div class="line">send_analytics=true</div>
</div><!-- fragment --><p>The Reporter Node also gives the option to change the path to the config file, disable auto closing and disable auto clearing for inputs.</p>
<p><span style="color:red"><b>WARNING:</b> The webhook url can be used to read all messages send with the webhook. <br  />
 Do NOT use the url directly if you allow sending any non anonymous information. <br  />
 Using the url for anonymous messages is still highly discouraged. <br  />
 See Proxy section for save usage. </span></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Example usage</h1>
<p><img src="screenshots/reporter_ui.png" alt="" class="inline"/> <img src="screenshots/message_with_screenshot.png" alt="" class="inline"/> <img src="screenshots/send_screenshot.png" alt="" class="inline"/></p>
<p>The playerid depends on the Game name and device id. This allows you to search reports by player but they are still mostly anonymous. You can disable this entirely with <span class="tt">anonymous_players=true</span> <br  />
 If not provided Contact Info will not be displayed. <br  />
 You can add or remove as many Categories as you like by editing the OptionButton of the Reporter. <br  />
 F2 takes a screenshot (configurable with the input action <span class="tt">screenshot</span>). The screenshot can be attached to the message. <br  />
</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Analytics</h1>
<p>Most of the time a screenshot is not enough to figure out what happened in a bugreport. <br  />
 To help with that you can allow your players to send analytics with their report. <br  />
 The Analytics Report will look something like this. <br  />
 </p><div class="fragment"><div class="line">Report-1692997835-Linux-16-3</div>
<div class="line"> </div>
<div class="line">root/Example</div>
<div class="line">Example:&lt;Node2D#27682407576&gt;</div>
<div class="line"> </div>
<div class="line">root/Example/Player</div>
<div class="line">pos: (539, 55), texture: res://icon.png</div>
</div><!-- fragment --><p> It starts with the Header <span class="tt">Report-Timestamp-OS name</span> <br  />
 Then it lists all nodes in the <span class="tt">analize</span> group by printing their full node path and the result of their <span class="tt">analize()</span> (Like root/Example/Player) function if they have one or the result of <span class="tt">_to_string()</span> (Like root/Example). <br  />
 You can put anything in here but you should beware of data protection laws. <br  />
</p>
<p>This can be enabled with <span class="tt">send_analytics</span> in the config file. </p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
log files</h2>
<p>For an easyer to setup variant you can also just send the godot.log file. Again you should beware of data protection laws.</p>
<p>This can be enabled with <span class="tt">send_log</span> in the config file. Make sure to enable <span class="tt">application/run/flush_stdout_on_print</span> in the Project settings. Otherwise the file will not always be written instantly. Then the log might miss lines at the end or be completely empty. Also set <span class="tt">debug/file_logging/enable_file_logging</span> to make sure logs are written on non desktop platforms if needed.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Customisation</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Message</h2>
<p>The looks of the final Message can be entirely customized by changing the <span class="tt">send_report()</span> function in the <span class="tt">reporter.gd</span> script and using the <span class="tt">WebhookBuilder</span> provided with <span class="tt">_webhook</span>. </p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
UI</h2>
<p>The Reporter UI can be easily customized as long as the correct nodes are still provided in the main <span class="tt">Reporter</span> node. </p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
More specific questions</h2>
<p>More information, questions etc can be freely added by first adding the input nodes (like buttons, LineEdit, etc.) and then adding the information to the message by adding a field, embed or whatever.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Example subnautica like</h2>
<p>As example for an alternatve you can look at <span class="tt">subnautica_like.tscn</span>. <br  />
 It more closely resembles the feedback form in subnautica that inspired this addon. <br  />
 <img src="screenshots/subnautica_like_ui.png" alt="" class="inline"/> <img src="screenshots/subnautica_like_message.png" alt="" class="inline"/> <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Example survey</h2>
<p>If you want feedback as more of a survey style format you can use <span class="tt">survey.tscn</span> <img src="screenshots/survey_start.png" alt="" class="inline"/> <img src="screenshots/survey_question.png" alt="" class="inline"/> [](screenshots/survey_message.png) <br  />
 Supports translations, optional questions, required questions, custom greeting &amp; goodbye, and easily customized questions and answers.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Proxy</h1>
<p>To prevent data leaks and potential data privacy lawsuits you need to setup a proxy. A Proxy will relay any messages to discord while ignoring unwanted actions (reading, deleting etc.). <br  />
</p>
<p>The recomended way is to use a cloudflare worker with this code. Then put the proxy url in the webhook.cfg instead of the webhook url. </p><div class="fragment"><div class="line">export default {</div>
<div class="line">  async fetch(request) {</div>
<div class="line">    const destinationURL = &quot;webhook url&quot;;</div>
<div class="line">    if (request.method === &quot;POST&quot;) {</div>
<div class="line">      const mod = await fetch(destinationURL, request);</div>
<div class="line">      return new Response(null, {status: mod.status});</div>
<div class="line">    }</div>
<div class="line">    return new Response(&quot;Only POST is allowed&quot;, { status: 403 });</div>
<div class="line">  },</div>
<div class="line">};</div>
</div><!-- fragment --><p>Make sure the webhook url is only in this code to make sure nobody malicius can get a hold of it. <br  />
 If you want to implement a content filter or spam prevention this would be a good place to do it. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_1233bc0a3e869c10318208e4553a4fcb.html">addons</a></li><li class="navelem"><a href="dir_254b2030b70a3174fc840b0f443714e1.html">BugReporter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
